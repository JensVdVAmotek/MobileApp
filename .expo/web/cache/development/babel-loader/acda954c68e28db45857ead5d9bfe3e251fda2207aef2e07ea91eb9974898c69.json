{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PopoverController = void 0;\nvar PropTypes = __importStar(require(\"prop-types\"));\nvar React = __importStar(require(\"react\"));\nvar react_native_1 = require(\"react-native-web/dist/index\");\nvar PopoverController = function (_React$PureComponent) {\n  function PopoverController() {\n    var _this;\n    _classCallCheck(this, PopoverController);\n    _this = _callSuper(this, PopoverController, arguments);\n    _this.state = {\n      showPopover: false,\n      popoverAnchor: {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      }\n    };\n    _this.onOrientationChange = function () {\n      if (_this.state.showPopover) {\n        requestAnimationFrame(_this.openPopover);\n      }\n    };\n    _this.touchable = null;\n    _this.setTouchableRef = function (ref) {\n      _this.touchable = ref;\n    };\n    _this.openPopover = function () {\n      var handle = (0, react_native_1.findNodeHandle)(_this.touchable);\n      if (handle) {\n        react_native_1.NativeModules.UIManager.measure(handle, _this.onTouchableMeasured);\n      }\n    };\n    _this.onTouchableMeasured = function (x0, y0, width, height, x, y) {\n      var _a;\n      var dimensions = react_native_1.Dimensions.get('window');\n      _this.setState({\n        showPopover: true,\n        popoverAnchor: {\n          x: react_native_1.I18nManager.isRTL ? dimensions.width - x : x,\n          y: y - (_this.props.calculateStatusBar ? (_a = react_native_1.StatusBar.currentHeight) !== null && _a !== void 0 ? _a : 0 : 0),\n          width: width,\n          height: height\n        }\n      });\n    };\n    _this.closePopover = function () {\n      return _this.setState({\n        showPopover: false\n      });\n    };\n    return _this;\n  }\n  _inherits(PopoverController, _React$PureComponent);\n  return _createClass(PopoverController, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.dimensionsSub = react_native_1.Dimensions.addEventListener('change', this.onOrientationChange);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _a;\n      (_a = this.dimensionsSub) === null || _a === void 0 ? void 0 : _a.remove();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children({\n        openPopover: this.openPopover,\n        closePopover: this.closePopover,\n        setPopoverAnchor: this.setTouchableRef,\n        popoverVisible: this.state.showPopover,\n        popoverAnchorRect: this.state.popoverAnchor\n      });\n    }\n  }]);\n}(React.PureComponent);\nexports.PopoverController = PopoverController;\nPopoverController.propTypes = {\n  children: PropTypes.func.isRequired\n};","map":{"version":3,"names":["PropTypes","__importStar","require","React","react_native_1","PopoverController","_React$PureComponent","_this","_classCallCheck","state","showPopover","popoverAnchor","x","y","width","height","onOrientationChange","requestAnimationFrame","openPopover","touchable","setTouchableRef","ref","handle","findNodeHandle","NativeModules","UIManager","measure","onTouchableMeasured","x0","y0","dimensions","Dimensions","get","setState","I18nManager","isRTL","props","calculateStatusBar","_a","StatusBar","currentHeight","closePopover","_inherits","_createClass","key","value","componentDidMount","dimensionsSub","addEventListener","componentWillUnmount","remove","render","children","setPopoverAnchor","popoverVisible","popoverAnchorRect","PureComponent","exports","propTypes","func","isRequired"],"sources":["/Users/jensvandevelde/Desktop/MobileApp/node_modules/react-native-modal-popover/src/PopoverController.tsx"],"sourcesContent":["import * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport {\n  Dimensions,\n  findNodeHandle,\n  MeasureOnSuccessCallback,\n  NativeModules,\n  I18nManager,\n  StatusBar,\n  EmitterSubscription,\n} from 'react-native';\nimport { Rect } from './PopoverGeometry';\n\nexport interface PopoverControllerRenderProps {\n  openPopover: () => void;\n  closePopover: () => void;\n  popoverVisible: boolean;\n  setPopoverAnchor: (ref: any) => void;\n  popoverAnchorRect: Rect;\n}\n\nexport interface Props {\n  calculateStatusBar?: boolean;\n  children: (props: PopoverControllerRenderProps) => React.ReactElement<any>;\n}\n\nexport interface State {\n  showPopover: boolean;\n  popoverAnchor: Rect;\n}\n\nexport class PopoverController extends React.PureComponent<Props, State> {\n  static propTypes = {\n    children: PropTypes.func.isRequired,\n  };\n\n  state: State = {\n    showPopover: false,\n    popoverAnchor: { x: 0, y: 0, width: 0, height: 0 },\n  };\n\n  private dimensionsSub?: EmitterSubscription;\n\n  componentDidMount() {\n    this.dimensionsSub = Dimensions.addEventListener(\n      'change',\n      this.onOrientationChange,\n    );\n  }\n\n  componentWillUnmount() {\n    this.dimensionsSub?.remove();\n  }\n\n  private onOrientationChange = () => {\n    if (this.state.showPopover) {\n      // Need to measure touchable and setFrom rect on popover again\n      requestAnimationFrame(this.openPopover);\n    }\n  };\n\n  private touchable: any = null;\n\n  private setTouchableRef = (ref: any) => {\n    this.touchable = ref;\n  };\n\n  private openPopover = () => {\n    const handle = findNodeHandle(this.touchable);\n    if (handle) {\n      NativeModules.UIManager.measure(handle, this.onTouchableMeasured);\n    }\n  };\n\n  private onTouchableMeasured: MeasureOnSuccessCallback = (\n    x0,\n    y0,\n    width,\n    height,\n    x,\n    y,\n  ) => {\n    const dimensions = Dimensions.get('window');\n    this.setState({\n      showPopover: true,\n      popoverAnchor: {\n        x: I18nManager.isRTL ? dimensions.width - x : x,\n        y:\n          y -\n          (this.props.calculateStatusBar ? StatusBar.currentHeight ?? 0 : 0),\n        width,\n        height,\n      },\n    });\n  };\n\n  private closePopover = () => this.setState({ showPopover: false });\n\n  render() {\n    return this.props.children({\n      openPopover: this.openPopover,\n      closePopover: this.closePopover,\n      setPopoverAnchor: this.setTouchableRef,\n      popoverVisible: this.state.showPopover,\n      popoverAnchorRect: this.state.popoverAnchor,\n    });\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}